**Datos en Docker**

*1) Bind mounts*
Creo una directorio en mi mÃ¡quina
ğŸ‘‰ mkdir dockerdata
Ingreso al directorio:
ğŸ‘‰ cd dockerdata
ğŸ‘‰ ls -lac

Vamos a crear un contenedor para una base de datos `Mongo`
ğŸ‘‰ docker run -d --name db mongo

Veo los contenedores activos:
ğŸ‘‰ docker ps

Entro al bash del contenedor:
ğŸ‘‰ docker exec -it db bash

Me conecto a la BBDD:
ğŸ‘‰ mongo
A partir de mongo 6.0 ya no se usa "mongo" sino "mongosh":
ğŸ‘‰ mongosh

Dentro de `mongosh`,
listo las BBDD:
ğŸ‘‰ shows dbs
creo la BBDD `myblog`:
ğŸ‘‰ use myblog
inserto un nuevo dato:
ğŸ‘‰ db.users.insert({"nombre":"Luis Lavado"})
veo el dato que carguÃ©:
ğŸ‘‰ db.users.find()
Salgo de `mongo`:
ğŸ‘‰ exit
Salgo de contendor:
ğŸ‘‰ exit

Mato el contendor:
ğŸ‘‰ docker rm -f db

Corro un contenedor de mongo y creo un `Bind mount`:
_1) Creo una carpeta `mongodata`
ğŸ‘‰ mkdir mongodata
_2) Obtenemos el directorio en donde estamos ubicados:
ğŸ‘‰ pwd
Corro un contenedor de mongo y creo un `Bind mount`:
ğŸ‘‰ docker run -d --name db -v <path de mi maquina>:<path dentro del contenedor(/data/db)> mongo
ğŸ‘‰ docker run -d --name db -v /var/www/devlearning-docker/dockerdata/mongodata:/data/db mongo

Corro un contenedor de mongo y creo un `Bind mount` (Windows):
ğŸ‘‰ docker run -d --name db -v D:/LEARNING/learning-docker/dockerdata/mongodata:/data/db mongo

Dar permisos a la carpeta:
ğŸ‘‰ sudo chmod -R 777 /var/www/devlearning-docker/dockerdata/mongodata

Corro un contenedor de mongo y creo un `Bind mount` (alternativa Linux):
ğŸ‘‰ docker run -d --name db -v $(pwd)/dockerdata/mongodata:/data/db mongo


*2) VolÃºmenes*
Listar los volumes:
ğŸ‘‰ docker volume ls

Crear un volumen:
ğŸ‘‰ docker volume create dbdata

Corro la BBDD y monto el volumen:
ğŸ‘‰ docker run -d --name db --mount src=dbdata,dst=/data/db mongo

Ver la informaciÃ³n detallada del contenedor:
ğŸ‘‰ docker inspect db

Me conecto a la BBDD:
ğŸ‘‰ mongosh

Dentro de `mongosh`,
listo las BBDD:
ğŸ‘‰ shows dbs
creo la BBDD `myblog`:
ğŸ‘‰ use myblog
inserto un nuevo dato:
ğŸ‘‰ db.users.insert({"nombre":"Luis Lavado"})
veo el dato que carguÃ©:
ğŸ‘‰ db.users.find()
Salgo de `mongo`:
ğŸ‘‰ exit
Salgo de contendor:
ğŸ‘‰ exit


*3) Insertar y extraer archivos de un contenedor*
Creo un archivo en mi mÃ¡quina:
ğŸ‘‰ touch prueba.txt

Corro un ubuntu y le agrego el tail para que quede activo:
ğŸ‘‰ docker run -d --name copytest ubuntu tail -f /dev/null

Entro al contenedor:
ğŸ‘‰ docker exec -it copytest bash

Creo un directorio en el contenedor:
ğŸ‘‰ mkdir testing

Salgo del contenedor:
ğŸ‘‰ exit

Copio el archivo `prueba.txt` dentro del contenedor con el nombre de `test.txt`:
ğŸ‘‰ docker cp prueba.txt copytest:/testing/test.txt

Copio el directorio de un contenedor a mi mÃ¡quina, con "docker cp" no hace falta que el contenedor estÃ© corriendo:
ğŸ‘‰ docker cp copytest:/testing localtesting


